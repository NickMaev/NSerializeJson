!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.NSerializeJson=r():e.NSerializeJson=r()}("undefined"!=typeof self?self:this,function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(r){return e[r]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=4)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(1),i=t(5),u=t(6),o=function(){function e(){}return e.parseValue=function(e,r){if(n.isStringNullOrEmpty(r))return this.parsers.filter(function(e){return"auto"===e.name})[0].parse(e,this.options.forceNullOnEmpty);var t=this.parsers.filter(function(e){return e.name===r})[0];if(null==t)throw u.pluginName+": couldn't find ther parser for type '"+r+"'";return t.parse(e,this.options.forceNullOnEmpty)},e.serializeForm=function(e){var r=this,t=e.querySelectorAll("input, select, textarea"),i={};return n.nodeListToArray(t).filter(function(e){return!(e.disabled||"radio"===e.getAttribute("type")&&!e.checked||"checkbox"===e.getAttribute("type")&&!e.checked)}).forEach(function(e){return r.serializeIntoObject(i,e)}),i},e.serializeIntoObject=function(e,r){var t=r.value,i=r.getAttribute("name");if(n.isStringNullOrEmpty(i))return e;var o=[],s=null,a=i.indexOf(":");if(a>-1){if("skip"===(s=i.substring(a+1,i.length)))return e;i=i.substring(0,a)}else s=r.getAttribute("data-value-type");null!=this.options.onBeforeParseValue&&(t=this.options.onBeforeParseValue(t,s));var l=this.parseValue(t,s),p=0;if(this.options.useDotSeparatorInPath){var f=!1;o=i.split("."),p=o.length,o.forEach(function(e,r){var t=e.indexOf("[]");if(r!==p-1){if(t>-1)throw u.pluginName+": error in path '"+i+"' empty values in the path mean array and should be at the end."}else t>-1&&(o[r]=e.replace("[]",""),f=!0)}),f&&o.push("")}else o=i.split("[").map(function(e,r){return e.replace("]","")}),p=o.length,o.forEach(function(e,r){if(r!==p-1&&n.isStringNullOrEmpty(e))throw u.pluginName+": error in path '"+i+"' empty values in the path mean array and should be at the end."});return this.searchAndSet(e,o,0,l),e},e.searchAndSet=function(e,r,t,i,o){void 0===o&&(o=0);var s=r[t],a=t===r.length-1,l=r[t+1];if(null==e||"string"==typeof e)throw r=r.map(function(e){return n.isStringNullOrEmpty(e)?"[]":e}),console.log(u.pluginName+": there was an error in path '"+r+"' in step '"+s+"'."),u.pluginName+": error.";var p=n.isStringNullOrEmpty(s),f=n.isStringInteger(s),c=n.isStringInteger(l)||n.isStringNullOrEmpty(l);if(p){if(a)return void e.push(i);null==e[o]&&(e[o]={}),s=o,o++}else if(f&&this.options.useNumKeysAsArrayIndex){if(s=parseInt(s),n.isArray(e)||(e=[]),a)return void(e[s]=i);null==e[s]&&(e[s]={})}else{if(a)return void(e[s]=i);this.options.useNumKeysAsArrayIndex&&c?n.isArray(e[s])||(e[s]=[]):null==e[s]&&(e[s]={})}t++,this.searchAndSet(e[s],r,t,i,o)},e.options={useNumKeysAsArrayIndex:!0,useDotSeparatorInPath:!1,forceNullOnEmpty:!1},e.parsers=i.parserList.slice(),e}();r.NSerializeJson=o},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isStringJsonObject=function(e){try{return JSON.parse(e),!0}catch(e){}return!1},r.isArray=function(e){return Array.isArray(e)},r.isStringNumber=function(e){return"number"==typeof e||/^[-+]?\d+([Ee][+-]?\d+)?(\.\d+)?$/.test(e)},r.isStringInteger=function(e){return/^[-+]?\d+([Ee][+-]?\d+)?$/.test(e)},r.isStringNullOrEmpty=function(e){return null==e||""===e.trim()},r.nodeListToArray=function(e){return Array.prototype.slice.call(e)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},function(e,r,t){"use strict";t.r(r);var n=t(0);t.d(r,"NSerializeJson",function(){return n.NSerializeJson});var i=t(2);t.d(r,"IOptions",function(){return i.IOptions});var u=t(3);t.d(r,"IValueParser",function(){return u.IValueParser})},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(1);r.parserList=[{name:"auto",parse:function(e,r){if(n.isStringNullOrEmpty(e))return r?null:e;var t=e.toString().trim();if("null"===t.toLowerCase())return null;try{return t=JSON.parse(t)}catch(e){}var i=t.split(",");return i.length>1&&(t=i.map(function(e){return n.isStringNumber(e)?parseFloat(e):n.isStringJsonObject(e)?JSON.parse(e):e.trim()})),t}},{name:"number",parse:function(e,r){return n.isStringNullOrEmpty(e)?r?null:0:n.isStringNumber(e)?parseFloat(e):0}},{name:"boolean",parse:function(e,r){return n.isStringNullOrEmpty(e)?!!r&&null:"true"===(e=e.toString().toLowerCase())||"1"===e}},{name:"string",parse:function(e,r){if(n.isStringNullOrEmpty(e))return null;var t=e.toString().trim();return"null"===t.toLowerCase()||""===t&&r?null:t}},{name:"array[auto]",parse:function(e,t){return n.isStringNullOrEmpty(e)?t?null:[]:e.split(",").map(function(e){return r.parserList.filter(function(e){return"auto"===e.name})[0].parse(e.trim(),t)})}},{name:"array[string]",parse:function(e,r){return n.isStringNullOrEmpty(e)?r?null:[]:e.split(",").map(function(e){return e.trim().toString()})}},{name:"array[number]",parse:function(e,r){return n.isStringNullOrEmpty(e)?r?null:[]:e.split(",").map(function(e){return parseFloat(e.trim())})}},{name:"json",parse:function(e,r){return n.isStringNullOrEmpty(e)?r?null:{}:JSON.parse(e)}}]},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pluginName="NSerializeJson"}])});
//# sourceMappingURL=nserializejson.min.js.map